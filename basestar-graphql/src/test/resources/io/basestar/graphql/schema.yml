Test1:
  type: object
  description: Project
  properties:
    x:
      type: string?
    y:
      type: integer?
    z:
      type:
        map?: Test4
  links:
    a:
      schema: Test3
      expression: test.id == this.id

Test2:
  type: struct
  properties:
    x:
      type: string?

Test3:
  type: object
  concrete: false
  properties:
    test:
      required: true
      type: Test1
  indexes:
    test:
      partition: test.id

Test4:
  extend: Test3
  type: object

Organization:
  type: object
  properties:
    organizationType:
      type: OrganizationType
      required: true
      immutable: false
    name:
      type: string
      required: true
      immutable: false
    website:
      type: string
      required: false
      immutable: false
    identityProvider:
      type: string
      required: false
      immutable: false
    userLoginDomains:
      type:
        array: string
      required: false
      immutable: false

OrganizationType:
  type: "enum"
  values:
    - "DSP"
    - "SERVICE_PROVIDER"
    - "SOCIETY"